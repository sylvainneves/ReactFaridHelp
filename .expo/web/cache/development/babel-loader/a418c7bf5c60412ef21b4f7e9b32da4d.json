{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport { fetchRecipesAction } from \"../../redux/actions\";\nimport { useDispatch } from \"react-redux\";\nvar ENDPOINT_RECIPES = \"https://api.spoonacular.com/recipes/complexSearch\";\nvar apiKey = \"e5e52760931049aebe44ddea67a92493\";\nvar MAX_PER_PAGE = 10;\nexport var fetchRecipes = function fetchRecipes(dispatch, query) {\n  var response, _dispatch;\n\n  return _regeneratorRuntime.async(function fetchRecipes$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          console.log(\"dans fetch recipies\");\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(ENDPOINT_RECIPES, {\n            params: {\n              apiKey: apiKey,\n              number: MAX_PER_PAGE\n            }\n          }));\n\n        case 4:\n          response = _context.sent;\n          console.log(response.data.results);\n          _dispatch = useDispatch;\n\n          _dispatch(fetchRecipesAction(response.data.results));\n\n          _context.next = 13;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(\"error requete recipes\", _context.t0);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 10]], Promise);\n};","map":{"version":3,"sources":["/home/sylvain/Documents/recette/mes-recettes/src/API/Recipies/index.js"],"names":["axios","fetchRecipesAction","useDispatch","ENDPOINT_RECIPES","apiKey","MAX_PER_PAGE","fetchRecipes","dispatch","query","console","log","get","params","number","response","data","results"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT;AACA,SAASC,WAAT,QAA4B,aAA5B;AAIA,IAAMC,gBAAgB,GAAG,mDAAzB;AACA,IAAMC,MAAM,GAAG,kCAAf;AACA,IAAMC,YAAY,GAAG,EAArB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAOC,QAAP,EAAiBC,KAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAExBC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAFwB;AAAA,2CAGDV,KAAK,CAACW,GAAN,CAAUR,gBAAV,EAA4B;AACjDS,YAAAA,MAAM,EAAE;AACNR,cAAAA,MAAM,EAANA,MADM;AAENS,cAAAA,MAAM,EAAER;AAFF;AADyC,WAA5B,CAHC;;AAAA;AAGlBS,UAAAA,QAHkB;AASxBL,UAAAA,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACC,IAAT,CAAcC,OAA1B;AAEMT,UAAAA,SAXkB,GAWPL,WAXO;;AAYxBK,UAAAA,SAAQ,CAACN,kBAAkB,CAACa,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAnB,CAAR;;AAZwB;AAAA;;AAAA;AAAA;AAAA;AAcxBP,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;;AAdwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB","sourcesContent":["import axios from \"axios\";\nimport { fetchRecipesAction } from \"../../redux/actions\";\nimport { useDispatch } from \"react-redux\";\n\n/* const */\n\nconst ENDPOINT_RECIPES = \"https://api.spoonacular.com/recipes/complexSearch\";\nconst apiKey = \"e5e52760931049aebe44ddea67a92493\";\nconst MAX_PER_PAGE = 10;\n\nexport const fetchRecipes = async (dispatch, query) => {\n  try {\n    console.log(\"dans fetch recipies\");\n    const response = await axios.get(ENDPOINT_RECIPES, {\n      params: {\n        apiKey,\n        number: MAX_PER_PAGE,\n      },\n    });\n    console.log(response.data.results);\n\n    const dispatch = useDispatch;\n    dispatch(fetchRecipesAction(response.data.results));\n  } catch (e) {\n    console.log(\"error requete recipes\", e);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}